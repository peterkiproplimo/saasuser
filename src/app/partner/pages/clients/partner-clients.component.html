<div class="p-6">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">My Clients</h1>
    <p class="mt-2 text-gray-600 dark:text-gray-400">View and manage your subscribed clients</p>
  </div>

  @if (loading()) {
  <div class="flex justify-center py-12">
    <p-progress-spinner [style]="{ width: '50px', height: '50px' }"></p-progress-spinner>
  </div>
  } @else {
  <p-card>
    <p-table [value]="clients()" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" 
             currentPageReportTemplate="Showing {first} to {last} of {totalRecords} clients"
             [rowsPerPageOptions]="[10, 25, 50]" styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th>Client Name</th>
          <th>Email</th>
          <th>Company</th>
          <th>Product</th>
          <th>Plan</th>
          <th>Status</th>
          <th>Subscription Date</th>
          <th>Monthly Revenue</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-client>
        <tr>
          <td class="font-semibold">{{ client.name }}</td>
          <td>{{ client.email }}</td>
          <td>{{ client.company }}</td>
          <td>{{ client.product_name }}</td>
          <td>{{ client.subscription_plan }}</td>
          <td>
            <p-tag [value]="client.status" [severity]="getStatusSeverity(client.status)" />
          </td>
          <td>{{ client.subscription_date | date:'short' }}</td>
          <td class="font-semibold">{{ formatCurrency(client.monthly_revenue, client.currency) }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="8" class="text-center py-8">
            <div class="flex flex-col items-center gap-3">
              <i class="pi pi-users text-4xl text-gray-400"></i>
              <p class="text-gray-600 dark:text-gray-400">No clients found</p>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
  }
</div>


