<div [formGroup]="form!!"  class="mt-1">

  <div>
    <label class="block text-sm/6 font-medium text-gray-900 dark:text-gray-100">
      {{ label }}
    </label>
    <div class="relative mt-1">
      <input
        class="block w-full rounded-md bg-white dark:bg-gray-800 px-3 py-1.5 text-base text-gray-900 dark:text-gray-100 outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 dark:focus:outline-indigo-400 sm:text-sm/6"
        [formControlName]="key"
        [readOnly]="readonly"
        [id]="id"
        [pattern]="pattern"
        [placeholder]="placeholder"
        [type]="effectiveInputType"
        [step]="step"
      />

      @if (type === 'password') {
        <button
          type="button"
          class="absolute inset-y-0 right-3 flex items-center text-gray-500 dark:text-gray-400"
          (click)="togglePasswordVisibility()"
          tabindex="-1"
        >
          @if (!isPasswordVisible){
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                 viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
            </svg>
          } @else {
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                 viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.963 9.963 0 012.166-3.401m3.363-2.383A9.953 9.953 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.96 9.96 0 01-1.045 2.102M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 3l18 18"/>
            </svg>
          }
        </button>
      }
    </div>
  </div>

  @if (hasFieldError()){
    <span class="text-red-900">

      @if (showError()){
        This field is required
      }

      @if (hasMinError()){
        This cannot be less than {{minval}}
      }

      @if (notIntegerError()){
        This Field Cannot Contain Decimals
      }

      @if (hasPatternError() || hasEmailError()){
        This field does not match required format
      }

    </span>
  }


</div>


