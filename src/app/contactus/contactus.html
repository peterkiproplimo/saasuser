<section class="bg-white dark:bg-gray-900">
  <div class="max-w-6xl mx-auto w-full space-y-10 py-16 px-6 md:px-12 lg:px-24">
    <!-- Centered Logo -->
    <div class="flex justify-center">
      <img
        src="/images/images.jpeg"
        alt="Logo"
        class="h-32 w-32 rounded-full object-cover"
      />
    </div>

    <!-- Title -->
    <div class="text-center -mt-4 lg:-mt-6">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white">
        Send Us a Message
      </h2>
      <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
        We'd love to hear from you!
      </p>
    </div>

    <!-- Contact Form -->
    <form
      [formGroup]="form"
      (ngSubmit)="submitForm()"
      class="space-y-6"
      novalidate
    >
      <!-- Name and Email -->
      <div class="grid md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label
            for="persona_name"
            class="text-sm font-semibold text-gray-700 dark:text-gray-300"
            >Name</label
          >
          <input
            id="persona_name"
            name="persona_name"
            formControlName="persona_name"
            type="text"
            placeholder="Enter Name"
            [ngClass]="{
        'border-red-500': isSubmitted && form.get('persona_name')?.invalid,
        'border-sky-400': !isSubmitted || form.get('persona_name')?.valid
      }"
            class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
          />
        </div>

        <div class="space-y-1">
          <label
            for="email"
            class="text-sm font-semibold text-gray-700 dark:text-gray-300"
            >Email</label
          >
          <input
            id="email"
            name="email"
            formControlName="email"
            type="email"
            placeholder="Enter Email"
            [ngClass]="{
        'border-red-500': isSubmitted && form.get('email')?.invalid,
        'border-sky-400': !isSubmitted || form.get('email')?.valid
      }"
            class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
          />
        </div>
      </div>

      <!-- Subject and Phone -->
      <div class="grid md:grid-cols-2 gap-4">
        <div class="space-y-1">
          <label
            for="subject"
            class="text-sm font-semibold text-gray-700 dark:text-gray-300"
            >Subject</label
          >
          <input
            id="subject"
            name="subject"
            formControlName="subject"
            type="text"
            placeholder="Enter Subject"
            [ngClass]="{
        'border-red-500': isSubmitted && form.get('subject')?.invalid,
        'border-sky-400': !isSubmitted || form.get('subject')?.valid
      }"
            class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
          />
        </div>

        <div class="space-y-1">
          <label
            for="phone_number"
            class="text-sm font-semibold text-gray-700 dark:text-gray-300"
            >Phone Number</label
          >
          <input
            id="phone_number"
            name="phone_number"
            formControlName="phone_number"
            type="text"
            placeholder="Enter Phone Number"
            [ngClass]="{
        'border-red-500': isSubmitted && form.get('phone_number')?.invalid,
        'border-sky-400': !isSubmitted || form.get('phone_number')?.valid
      }"
            class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
          />
        </div>
      </div>

      <!-- Message -->
      <div class="space-y-1">
        <label
          for="message"
          class="text-sm font-semibold text-gray-700 dark:text-gray-300"
          >Message</label
        >
        <textarea
          id="message"
          name="message"
          formControlName="message"
          rows="5"
          placeholder="Enter Message"
          [ngClass]="{
      'border-red-500': isSubmitted && form.get('message')?.invalid,
      'border-sky-400': !isSubmitted || form.get('message')?.valid
    }"
          class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
        ></textarea>
      </div>

      <!-- CAPTCHA -->
      <div class="mb-4 space-y-1">
        <div class="flex items-center gap-2 mb-1">
          <label
            for="captcha_answer"
            class="text-sm md:text-base font-semibold text-gray-700 dark:text-gray-300"
          >
            {{ captchaQuestion }}
          </label>
          <i
            class="pi pi-refresh text-blue-600 hover:text-blue-800 text-xl cursor-pointer"
            (click)="getCaptcha()"
            title="Refresh CAPTCHA"
          ></i>
        </div>

        <input
          id="captcha_answer"
          name="captcha_answer"
          formControlName="captcha_answer"
          type="text"
          placeholder="Enter answer"
          [ngClass]="{
      'border-red-500': isSubmitted && form.get('captcha_answer')?.invalid,
      'border-sky-400': !isSubmitted || form.get('captcha_answer')?.valid
    }"
          class="w-full p-3 border focus:border-sky-500 focus:ring-sky-500 rounded-md dark:bg-gray-800 dark:text-white"
        />
      </div>

      <!-- Submit and Home Buttons -->
      <div class="flex flex-col sm:flex-row gap-4">
        <button
          type="submit"
          class="flex-1 flex justify-center gap-2 rounded-md bg-sky-500 hover:bg-sky-600 focus:ring-2 focus:ring-sky-500 px-4 py-2 text-sm font-semibold text-white transition-all duration-200"
        >
          SEND MESSAGE
        </button>
      </div>
    </form>

    <!-- Map Below -->
  </div>
  <div class="w-full h-[450px] rounded-md overflow-hidden shadow-lg">
    <google-map height="100%" width="100%" [center]="center" [zoom]="zoom">
      <map-marker
        [position]="markerPosition"
        [options]="markerOptions"
      ></map-marker>
    </google-map>
  </div>
</section>
